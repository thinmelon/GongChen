<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--<meta charset="UTF-8">-->
    <!--<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">-->
    <meta name="page-view-size" content="1280*720">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>首页</title>
    <link rel="stylesheet" href="../style/common.css">
</head>

<body style="background: url(../images/bg-img.png) no-repeat; background-size: 100%; ">

<div class="title-logo"
     style="background: url('../images/index-logo.png') no-repeat; "></div>

<div class="row">
    <div class="post-entry">
        <div id="example-post-1" class="example-post">
            <img src="../images/example-post-3.png" width="353px" height="282px">
        </div>
        <div id="example-post-2" class="example-post">
            <img src="../images/example-post-4.png" width="449px" height="282px">
        </div>
    </div>

    <div class="list-item" style="background: url(../images/bg-list-item.png); width: 388px; height: 282px;">
        <div class="list-item-bar"
             style="background: url(../images/list-item-bar.png) no-repeat; width: 388px; height: 40px">
            <strong>最新动态</strong></div>
        <div class="list-item-content">"美丽莆田 社会治理"司法行政创新现场会</div>
        <div class="list-item-content">建设美丽莆田行动纲要</div>
        <div class="list-item-content">美丽港城 冉冉起</div>
        <div class="list-item-content">拱辰街道依法拆除违章建筑</div>
        <div class="list-item-content">开启“智慧物流” 助力物畅其流</div>
        <div class="list-item-more"
             style="background: url(../images/list-item-more.png) no-repeat; width: 126px; height: 18px;"></div>
    </div>


</div><!--  row  -->
<div class="btn-entry">
    <div class="btn-entry-item"
         style="background: url('../images/btn-intro.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-peace.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-affairs.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-building.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-culture.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-public.png') no-repeat; width: 141px; height: 142px"></div>
    <div class="btn-entry-item"
         style="background: url('../images/btn-service.png') no-repeat; width: 141px; height: 142px"></div>
</div><!--  btn-entry  -->

<div id="weather-forecast"
     style="background: url(../images/weather_forecast.png) left no-repeat; width: 295px; height: 16px;"></div>
<div id="intro-btn-usage"
     style="background: url(../images/intro-btn-usage.png) right no-repeat; width: 558px; height: 42px;"></div>

<div id="self_ad_focus">
    <table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
        <tbody>
        <tr>
            <td width="10" height="10"
                style="background:url(../images/focus_lt.png) no-repeat;"></td>
            <td style="background:url(../images/focus_t.png) repeat-x;"></td>
            <td width="10" style="background:url(../images/focus_rt.png) no-repeat;"></td>
        </tr>
        <tr>
            <td style="background:url(../images/focus_l.png) repeat-y;"></td>
            <td>&nbsp;</td>
            <td style="background:url(../images/focus_r.png) repeat-y;"></td>
        </tr>
        <tr>
            <td width="10" height="10" style="background:url(../images/focus_lb.png) no-repeat;"></td>
            <td style="background:url(../images/focus_b.png) repeat-x;"></td>
            <td style="background:url(../images/focus_rb.png) no-repeat;"></td>
        </tr>
        </tbody>
    </table>
</div><!-- self_ad_focus -->

</body>

<script type="application/javascript" src="../script/keyEvent.js"></script>
<script type="application/javascript">

    document.onkeydown = grabEvent;

    function grabEvent(_event) {

        var code = Event(_event);

        switch (code) {
            case "KEY_UP": //
                controller.moveY(-1);
                return false;
            case "KEY_DOWN": //
                controller.moveY(1);
                return false;
            case "KEY_LEFT": //
                controller.moveX(-1);
                return false;
            case "KEY_RIGHT": //
                controller.moveX(1);
                return false;
            case "KEY_PAGE_UP": //
//                controller.changePage(-1);
                return false;
            case "KEY_PAGE_DOWN": //
//                controller.changePage(1);
                return false;
            case "KEY_SELECT": //
                controller.doSelect();
                return false;
            case "KEY_EXIT":
            case "KEY_BACK":
                controller.doBack();
                return false;
            default:
                break;
        }
    }

    var menuObj = {

        focusItemName: "",                // 记录光标定位的元素名称
        menuPosArray: [
            {left: 0, top: 0, width: 133, height: 168},
            {left: 136, top: 10, width: 144, height: 180},
            {left: 283, top: 20, width: 151, height: 189},
            {left: 437, top: 30, width: 150, height: 189},
            {left: 590, top: 20, width: 150, height: 189},
            {left: 743, top: 10, width: 141, height: 178},
            {left: 887, top: 0, width: 135, height: 170}
        ]
        ,
        menuItemArray: null,

        init: function () {

            this.menuItemArray = new Array();
            this.menuItemArray.push({
                name: "index_intro",
                url: "intro.html?focusArea=0&focusItemName=index_intro"
            });
            this.menuItemArray.push({
                name: "index_building",
                url: "building.html?focusArea=0&focusItemName=index_building"
            });
            this.menuItemArray.push({
                name: "index_affairs",
                url: "affairs.html?focusArea=0&focusItemName=index_affairs"
            });
            this.menuItemArray.push({
                name: "index_politics",
                url: "politics.html?focusArea=0&focusItemName=index_politics"
            });
            this.menuItemArray.push({
                name: "index_city",
                url: "city.html?focusArea=0&focusItemName=index_city"
            });
            this.menuItemArray.push({
                name: "index_public",
                url: "video.html?assetId=FFMZ0000000000009141&backUrl=" + encodeURIComponent(window.location.href)
            });
            this.menuItemArray.push({
                name: "index_service",
                url: "service.html?focusArea=0&focusItemName=index_service"
            });

        }
        ,

        focusOn: function () {

            $("self_ad_focus").style.left = "570px";
            $("self_ad_focus").style.top = "420px";
            $("self_ad_focus").style.width = "124px";
            $("self_ad_focus").style.height = "159px";

        }
        ,

        focusOut: function () {
        }
        ,

        moveX: function (_direction) {

            console.info("menuObj ==> moveX");

            if (_direction > 0) {

                $(this.menuItemArray[0].name).style.visibility = "hidden";
                spinningToLeft();

            } else {

                $(this.menuItemArray[this.menuItemArray.length - 1].name).style.visibility = "hidden";
                spinningToRight();

            }

        }
        ,

        moveY: function (_direction) {

            controller.focusArea = 1;     // 光标定位在菜单区域,上下移动光标都到海报区域
            postObj.focusOn();

        }
        ,

        doSelect: function () {

            var _pos = Math.floor(this.menuItemArray.length / 2);
            ;

            var link = this.menuItemArray[_pos].url;

            if ("" != link) {
                window.location.href = link;
            }

        },

        indexOf: function (_array, _key) {

            for (var i = 0; i < _array.length; i++) {
                if (_array[i].name == _key) {
                    return i;
                }
            }

            return -1;
        },

        adjustItemPosition: function () {

            var _mid = Math.floor(this.menuItemArray.length / 2);   // 中间位
            var _original = this.indexOf(this.menuItemArray, this.focusItemName);    // 元素当前坐标

            console.info("==>    adjustItemPosition  ==> focus item's name: " + this.focusItemName);

            if (_original != -1) {          // 找到该元素

                var _pos = _original;

                while (_pos != _mid) {      // 将元素在menuItemArray数组中的位置调整至中间位

                    if (_pos > _mid) {
                        this.menuItemArray.push(this.menuItemArray.shift());
                        _pos--;
                    }

                    if (_pos < _mid) {
                        this.menuItemArray.unshift(this.menuItemArray.pop());
                        _pos++;
                    }
                }

                if (this.menuItemArray[_mid].name != this.focusItemName) {      // 验证结果

                    var errorMsg = "Fatal error: adjustItemPosition() failed!";
                    console.error(errorMsg);

                    throw errorMsg;                     // 抛出异常

                } else {

                    if (_original != _mid) {
                        // 调整菜单位置

                        for (var i = 0; i < this.menuItemArray.length; i++) {
                            $(this.menuItemArray[i].name).style.left = this.menuPosArray[i].left + "px";
                            $(this.menuItemArray[i].name).style.top = this.menuPosArray[i].top + "px";
                            $(this.menuItemArray[i].name).style.width = this.menuPosArray[i].width + "px";
                            $(this.menuItemArray[i].name).style.height = this.menuPosArray[i].height + "px";

                        }
                    }
                    /* end of if */

                }

            }


            // 刷新各菜单位置

        }
    };

    var postObj = {

        focusPos: 0,                // 记录光标在区域内的位置
        postItemArray: [
            {
                left: 28,
                top: 147,
                width: 354,
                height: 285,
                url: "play.html?assetid=FFMZ0000000000009141&backUrl=" + encodeURIComponent(window.location.href)
            },

            {
                left: 392,
                top: 147,
                width: 449,
                height: 285,
                url: "monitor.html?rtsp=rtsp://10.184.255.7:554/140801121006552&backUrl=" + encodeURIComponent(window.location.href)
            }
        ],

        init: function () {
        },

        focusOn: function () {

            document.getElementById("self_ad_focus").style.left = this.postItemArray[this.focusPos].left + "px";
            document.getElementById("self_ad_focus").style.top = this.postItemArray[this.focusPos].top + "px";
            document.getElementById("self_ad_focus").style.width = this.postItemArray[this.focusPos].width + "px";
            document.getElementById("self_ad_focus").style.height = this.postItemArray[this.focusPos].height + "px";

        },

        focusOut: function () {

        },

        moveX: function (_direction) {

            this.focusPos += _direction;

            if (this.focusPos >= 0 && this.focusPos < this.postItemArray.length) {

                this.focusOn();

            } else if (this.focusPos < 0) {

                this.focusPos = 0;

                controller.focusArea = 2;
                listObj.focusOn();

            } else {

                this.focusPos = this.postItemArray.length - 1;

                controller.focusArea = 2;
                listObj.focusOn();
            }

        },

        moveY: function (_direction) {

            controller.focusArea = 0;
            menuObj.focusOn();

        },

        doSelect: function () {

            var link = this.postItemArray[this.focusPos].url;
            if ("" != link) {
                window.location.href = link;
            }

        }
    };

    var listObj = {

        focusPos: 0,                        // 记录光标在区域内的位置
        listItemNum: 5,                     // 列表元素的显示数量
        listItemArray: [
            {left: 861, top: 200, width: 378, height: 25},
            {left: 861, top: 238, width: 378, height: 25},
            {left: 861, top: 276, width: 378, height: 25},
            {left: 861, top: 314, width: 378, height: 25},
            {left: 861, top: 352, width: 378, height: 25},
            {left: 861, top: 390, width: 378, height: 25}
        ],
        listItemTitleArray: new Array(),

        init: function () {

//            var arrayNum = 5;
//
//            for (var t = 0; t < arrayNum && t < this.listItemNum; t++) {
//                this.addListItem("111", "测试", 1, 111);
//            }
//
//            if (arrayNum > listObj.listItemNum) {
//                listObj.addListItem(0, ">>更多信息", 0, 0);
//            }
//
//            this.setListItemTitle();

//            listObj.addListItem(0, ">>更多信息", 0, 0);
//            this.setListItemTitle();

        },

        setListItemTitle: function () {

            for (var i = 0; i < listObj.listItemTitleArray.length; i++) {

                $("message").innerHTML += "<br/>" + "listObj ==> setListItemTitle ==> Title = " + listObj.listItemTitleArray[i].title;

                $("list_menu_" + i).children[0].innerHTML = listObj.listItemTitleArray[i].title;
                $("list_menu_" + i).children[0].style.color = "#000000";

            }

        },

        addListItem: function (_assetID, _title, _flag, _id) {

            if (this.listItemTitleArray.length >= this.listItemNum) {

                this.listItemTitleArray.pop();

            }

            this.listItemTitleArray.push({assetID: _assetID, title: _title, flag: _flag, id: _id});

        },

        removeAllListItem: function () {

            while (this.listItemTitleArray.length > 0) {

                this.listItemTitleArray.pop();

            }

        },

        focusOn: function () {

            document.getElementById("self_ad_focus").style.left = this.listItemArray[this.focusPos].left + "px";
            document.getElementById("self_ad_focus").style.top = this.listItemArray[this.focusPos].top + "px";
            document.getElementById("self_ad_focus").style.width = this.listItemArray[this.focusPos].width + "px";
            document.getElementById("self_ad_focus").style.height = this.listItemArray[this.focusPos].height + "px";


//            this.showTitleForMarquee(this.listItemTitleArray[this.focusPos].title, document.getElementById("list_menu_" + this.focusPos).children[0], 20);
//            document.getElementById("list_menu_" + this.focusPos).children[0].style.color = "#0000FF";

        },

        focusOut: function () {

//            document.getElementById("list_menu_" + this.focusPos).children[0].innerHTML = this.listItemTitleArray[this.focusPos].title;
//            document.getElementById("list_menu_" + this.focusPos).children[0].style.color = "#000000";

        },

        moveX: function (_direction) {

            this.focusOut();

            if (_direction < 0) {

                postObj.focusPos = postObj.postItemArray.length - 1;

            } else {

                postObj.focusPos = 0;

            }

            controller.focusArea = 1;

            postObj.focusOn();

        },

        moveY: function (_direction) {

            this.focusPos += _direction;

            if (this.focusPos >= 0 && this.focusPos < this.listItemTitleArray.length) {

                this.focusOn();

            } else if (this.focusPos < 0) {

                this.focusPos = 0;

                controller.focusArea = 0;
                menuObj.focusOn();

            } else {

                this.focusPos = this.listItemTitleArray.length - 1;

                controller.focusArea = 0;
                menuObj.focusOn();
            }

        },

        doSelect: function () {

            var _link = "";

            if (this.listItemTitleArray[this.focusPos].flag == 1) {     // 文字列表项

                _link = "play.html?assetid=" + this.listItemTitleArray[this.focusPos].assetID +
                    "&backUrl=" + encodeURIComponent(window.location.href);


            } else {                                                    // 更多内容

                _link = "more.html?resourceId=" + paramObj.djjyResourceIdArray[0].resourceId +
                    "&focusArea=2&focusPos=" + this.focusPos;

            }

            window.location.href = _link;
        },

        showTitleForMarquee: function (_title, _obj, _num) {
            if (_title.length > _num) {
                _obj.innerHTML = "<marquee>" + _title + "</marquee>";
            } else {
                _obj.innerHTML = _title;
            }
        }


    };

    var controller = {
        focusArea: 0,                   // 当前光标所在区域
        timeoutID: 0,


        init: function () {

//            menuObj.init();                 // 初始化菜单项
//            listObj.init();                 // 初始化列表项
//            ajaxForQueryTListMenuTitle();   // 异步提取列表内容
//
//            var paramObj = getRequest();    // 解析URL链接，得到区域及位置参数
//
//            if (paramObj.hasOwnProperty("focusArea")) {
//
//                console.info("==>   focusArea = " + paramObj["focusArea"]);
//                this.focusArea = parseInt(paramObj["focusArea"]);
//
//            }
//
//            if (paramObj.hasOwnProperty("focusPos")) {
//
//                console.info("==>   focusPos = " + paramObj["focusPos"]);
//                switch (this.focusArea) {
//                    case 0:
//
//                        if (paramObj.hasOwnProperty("focusItemName")) {
//                            menuObj.focusItemName = paramObj["focusItemName"];
//
//                            menuObj.adjustItemPosition();   // 调整菜单项位置
//                        }
//
//                        break;
//                    case 1:
//
//                        postObj.focusPos = parseInt(paramObj["focusPos"]);
//
//                        break;
//                    case 2:
//
//                        listObj.focusPos = parseInt(paramObj["focusPos"]);
//
//                        break;
//                    default:
//                        break;
//                }
//
//            }

            this.focusArea = 1;
            this.focusOn();                 // 光标定位至目标位置

        },


        focusOn: function () {

            switch (this.focusArea) {
                case 0:             // 菜单

                    menuObj.focusOn();

                    break;
                case 1:             // 海报

                    postObj.focusOn();

                    break;
                case 2:             // 文字列表

                    listObj.focusOn();

                    break;
                default:
                    break;
            }
        },

        focusOut: function () {

        },

        moveX: function (_direction) {

            console.info("controller ==> moveX " + _direction);

            switch (this.focusArea) {
                case 0:             // 菜单

                    menuObj.moveX(_direction);

                    break;
                case 1:             // 海报

                    postObj.moveX(_direction);

                    break;
                case 2:             // 文字列表

                    listObj.moveX(_direction);

                    break;
                default:
                    break;
            }

        },

        moveY: function (_direction) {

            switch (this.focusArea) {
                case 0:             // 菜单

                    menuObj.moveY(_direction);

                    break;
                case 1:             // 海报

                    postObj.moveY(_direction);

                    break;
                case 2:             // 文字列表

                    listObj.focusOut();
                    listObj.moveY(_direction);

                    break;
                default:
                    break;
            }

        },

        doSelect: function () {

//            $("message").innerHTML += "<br/>" + "controller ==> doSelect";

//            if (window.sessionStorage) {
//                window.sessionStorage.setItem("focusArea", this.focusArea);
//            }

            switch (this.focusArea) {
                case 0:             // 菜单

//                    if (window.sessionStorage) {
//                        window.sessionStorage.setItem("focusPos", menuObj.focusPos);
//                    }

                    menuObj.doSelect();

                    break;
                case 1:             // 海报

//                    if (window.sessionStorage) {
//                        window.sessionStorage.setItem("focusPos", postObj.focusPos);
//                    }

                    postObj.doSelect();

                    break;
                case 2:             // 文字列表

//                    if (window.sessionStorage) {
//                        window.sessionStorage.setItem("focusPos", listObj.focusPos);
//                    }

                    listObj.doSelect();

                    break;
                default:
                    break;
            }

        },

        doBack: function () {

            window.location.href = "http://10.184.255.11:80/ptmlxc/index.htm";  // 美丽乡村列表页

        }
    };

    /**
     * fetching data including image, video according to resource id
     * resourceId: Id of corresponding resource
     * num: count of fetching items each time
     * */
    function ajaxForQueryTListMenuTitle() {

        var _url = paramObj.serverUrl +
            "queryTitleListMobile.shtml?resourceId=" +
            paramObj.djjyResourceIdArray[0].resourceId +
            "&num=" + (listObj.listItemNum + 1) +
            "&cur_page=1";

        $("message").innerHTML += "<br/>" + "===>  ajaxForQueryTListMenuTitle ";
        $("message").innerHTML += "<br/>" + "===>  ajaxForQueryTListMenuTitle ==> URL: " + _url;

        ajax({
            url: _url,
            type: "GET",                    //  HTTP 请求类型,GET或POST
            dataType: "html",               //  请求的文件类型html/xml

            onSuccess: function (html) {    //请求成功后执行[可选]

                $("message").innerHTML += "<br/>" + "===>  ajaxForQueryTListMenuTitle ==> onSuccess";
                $("message").innerHTML += "<br/>" + "===>  Response = " + html;

                var json = eval('(' + html + ')');
                if ("1" == json.code || 1 == json.code) {

                    listObj.removeAllListItem();

                    for (var j = 0; j < json.dataArray.length && j < listObj.listItemNum; j++) {
                        if (json.dataArray[j].flag == "1") {

                            $("message").innerHTML += "<br/>" + "===>  AssetID in json = " + json.dataArray[j].assetid;
                            $("message").innerHTML += "<br/>" + "===>  Title in json = " + json.dataArray[j].title;
                            $("message").innerHTML += "<br/>" + "===>  ID in json = " + json.dataArray[j].id;

                            listObj.addListItem(json.dataArray[j].assetid, json.dataArray[j].title, json.dataArray[j].flag, json.dataArray[j].id);
                        }
                    }

                    if (json.dataArray.length > listObj.listItemNum) {
                        listObj.addListItem(0, ">>更多信息", 0, 0);
                    }

                    listObj.setListItemTitle();


                } else {

//                        ajaxForBigImage();

                }

            },

            onError: function () { //请求失败后执行[可选]

                $("message").innerHTML += "<br/>" + "===>  ajaxForQueryTListMenuTitle ==> onError";

            },

            onComplete: function () {// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]

                $("message").innerHTML += "<br/>" + "===>  ajaxForQueryTListMenuTitle ==> onComplete";

            },

            post: "",
            timeout: 7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
        });
    }

    function moveItem(_curItem, _targetItem) {

//        var _curPos = parseInt($(_itemName).style.left);

        var _curPosX = $(_curItem).offsetLeft;              // 源项目X坐标
        var _curPosY = $(_curItem).offsetTop;               // 源项目Y坐标
        var _targetPosX = _targetItem.left;        // 目标项X坐标
        var _targetPosY = _targetItem.top;         // 目标项Y坐标

        var _curWidth = $(_curItem).offsetWidth;            // 源项目长度
        var _curHeight = $(_curItem).offsetHeight;          // 源项目高度
        var _targetWidth = _targetItem.width;      // 目标项长度
        var _targetHeight = _targetItem.height;    // 目标项高度

        console.info("==>moveItem()   ==>Current Position X: " + _curPosX + " Y: " + _curPosY + " Width: " + _curWidth + " Height: " + _curHeight);

        if ((_curPosX == _targetPosX) && (_curPosY == _targetPosY)
            && (_curWidth == _targetWidth) && (_curHeight == _targetHeight)) {

            return true;

        }

        if (_curPosX > _targetPosX) {       // 向左移动

            if (_curPosX > _targetPosX + 20) {
                _curPosX -= 20;
            } else {
                _curPosX = _targetPosX;
            }

        } else {                            // 向右移动

            if (_curPosX < _targetPosX - 20) {
                _curPosX += 20;
            } else {
                _curPosX = _targetPosX;
            }
        }
        $(_curItem).style.left = _curPosX + "px";

        if (_curPosY > _targetPosY) {       // 向上移动

            if (_curPosY > _targetPosY + 2) {
                _curPosY -= 2;
            } else {
                _curPosY = _targetPosY;
            }

        }
        if (_curPosY < _targetPosY) {       // 向下移动

            if (_curPosY < _targetPosY - 2) {
                _curPosY += 2;
            } else {
                _curPosY = _targetPosY;
            }

        }
        $(_curItem).style.top = _curPosY + "px";

        if (_curWidth > _targetWidth) {     // 图片长度缩小

            if (_curWidth > _targetWidth + 5) {
                _curWidth -= 5;
            } else {
                _curWidth = _targetWidth;
            }

        }
        if (_curWidth < _targetWidth) {     // 图片长度放大

            if (_curWidth < _targetWidth - 5) {
                _curWidth += 5;
            } else {
                _curWidth = _targetWidth;
            }

        }
        $(_curItem).style.width = _curWidth + "px";

        if (_curHeight > _targetHeight) {   // 图片高度缩小

            if (_curHeight > _targetHeight + 5) {
                _curHeight -= 5;
            } else {
                _curHeight = _targetHeight;
            }

        }
        if (_curHeight < _targetHeight) {   // 图片高度放大

            if (_curHeight < _targetHeight - 5) {
                _curHeight += 5;
            } else {
                _curHeight = _targetHeight;
            }

        }
        $(_curItem).style.height = _curHeight + "px";

        return false;

    }

    function spinningToLeft() {

        console.info("==>    spinningToLeft()");

        var _finished = true;
        var _len = menuObj.menuPosArray.length - 1;

        for (var _pos = 0; _pos < _len; _pos++) {

            var _result = moveItem(menuObj.menuItemArray[_pos + 1].name, menuObj.menuPosArray[_pos]);

            if (_result == false) {
                _finished = false;
            }
        }

        if (_finished) {

            console.info("==>spinningToLeft()   ==>Stop");
            $(menuObj.menuItemArray[0].name).style.left = menuObj.menuPosArray[_len].left + "px";
            $(menuObj.menuItemArray[0].name).style.top = menuObj.menuPosArray[_len].top + "px";
            $(menuObj.menuItemArray[0].name).style.width = menuObj.menuPosArray[_len].width + "px";
            $(menuObj.menuItemArray[0].name).style.height = menuObj.menuPosArray[_len].height + "px";
            $(menuObj.menuItemArray[0].name).style.visibility = "visible";

            menuObj.menuItemArray.push(menuObj.menuItemArray.shift());

            return true;

        } else {

            setTimeout(function () {
                spinningToLeft();
            }, 1);

        }

    }

    function spinningToRight() {

        console.info("==>    spinningToRight()");

        var _finished = true;
        var _len = menuObj.menuPosArray.length - 1;

        for (var _pos = 0; _pos < _len; _pos++) {

            var _result = moveItem(menuObj.menuItemArray[_pos].name, menuObj.menuPosArray[_pos + 1]);

            if (_result == false) {
                _finished = false;
            }
        }

        if (_finished) {

            console.info("==>spinningToRight()   ==>Stop");
            $(menuObj.menuItemArray[_len].name).style.left = menuObj.menuPosArray[0].left + "px";
            $(menuObj.menuItemArray[_len].name).style.top = menuObj.menuPosArray[0].top + "px";
            $(menuObj.menuItemArray[_len].name).style.width = menuObj.menuPosArray[0].width + "px";
            $(menuObj.menuItemArray[_len].name).style.height = menuObj.menuPosArray[0].height + "px";
            $(menuObj.menuItemArray[_len].name).style.visibility = "visible";

            menuObj.menuItemArray.unshift(menuObj.menuItemArray.pop());

            return true;

        } else {

            setTimeout(function () {
                spinningToRight();
            }, 1);

        }

    }

    window.onload = controller.init();

</script>
</html>